逻辑1：连续下跌开多
（B_4DOWN_LONG）
触发条件：前 4 根日线连续阴线（收盘价低于开盘价）
动作：在第 5 根 K 线开 多单

逻辑2：大阳反包 当天大阴
（BIG_GREEN_THEN_RED_SHORT）
触发条件：
前一日大阳线反包（收盘价 > 开盘价 × 1.07）
当日收盘形成大阴线（收盘价 < 开盘价）
动作：开 空单

BLACKLIST = {
    "BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","DOGEUSDT",
    "ADAUSDT","AVAXUSDT","LTCUSDT","BCHUSDT","TONUSDT"
    
# ================= 逻辑 =================
#这是一号逻辑
def trigger_B_4DOWN_LONG(df_s, idx):
    if idx < 4:
        return False
    return all(candle_down(df_s.iloc[i]) for i in range(idx-4, idx))


#这是二号逻辑
def trigger_BIG_GREEN_THEN_RED_SHORT(df_s, idx):
    if idx < 1:
        return False
    prev = df_s.iloc[idx-1]
    last = df_s.iloc[idx]
    return (prev['close'] > prev['open']*1.07) and candle_down(last)
    

2026年1月1日回测情况
[逻辑1 4DOWN_LONG] 止盈 2% 总览
触发次数: 19746 | 盈利: 19334 | 亏损: 412 | 胜率: 97.91%
总盈利: 154237.17 USDT | 总亏损: -79306.98 USDT | 净收益: 74930.20 USDT
平均抗单天数: 12.22 | 最大浮亏: 398.34 USDT

[逻辑2 BIG_GREEN_THEN_RED_SHORT] 止盈 2% 总览
触发次数: 17103 | 盈利: 17101 | 亏损: 2 | 胜率: 99.99%
总盈利: 136790.00 USDT | 总亏损: -831.89 USDT | 净收益: 135958.12 USDT
平均抗单天数: 1.09 | 最大浮亏: 1459.99 USDT


[逻辑2 BIG_GREEN_THEN_RED_SHORT] 止盈 2% 总览 不同阈值计算

=== 回测阈值: 1.05 ===
触发次数: 26755
盈利次数: 26750 | 亏损次数: 5 | 胜率: 99.98%
总盈利: 213971.20 USDT
总亏损: -3311.44 USDT
净收益: 210659.76 USDT
平均抗单天数: 1.30
最大单笔浮亏: 6110.02 USDT
============================================================

=== 回测阈值: 1.06 ===
触发次数: 21364
盈利次数: 21361 | 亏损次数: 3 | 胜率: 99.99%
总盈利: 170859.20 USDT
总亏损: -2088.97 USDT
净收益: 168770.23 USDT
平均抗单天数: 1.22
最大单笔浮亏: 6110.02 USDT
============================================================

=== 回测阈值: 1.07 ===
触发次数: 17246
盈利次数: 17244 | 亏损次数: 2 | 胜率: 99.99%
总盈利: 137934.00 USDT
总亏损: -831.89 USDT
净收益: 137102.12 USDT
平均抗单天数: 1.08
最大单笔浮亏: 1459.99 USDT
============================================================

=== 回测阈值: 1.08 ===
触发次数: 14035
盈利次数: 14035 | 亏损次数: 0 | 胜率: 100.00%
总盈利: 112273.52 USDT
总亏损: 0.00 USDT
净收益: 112273.52 USDT
平均抗单天数: 1.06
最大单笔浮亏: 1225.99 USDT
============================================================

=== 回测阈值: 1.09 ===
触发次数: 11537
盈利次数: 11537 | 亏损次数: 0 | 胜率: 100.00%
总盈利: 92289.52 USDT
总亏损: 0.00 USDT
净收益: 92289.52 USDT
平均抗单天数: 1.05
最大单笔浮亏: 1225.99 USDT
============================================================

=== 回测阈值: 1.1 ===
触发次数: 9580
盈利次数: 9580 | 亏损次数: 0 | 胜率: 100.00%
总盈利: 76633.52 USDT
总亏损: 0.00 USDT
净收益: 76633.52 USDT
平均抗单天数: 1.04
最大单笔浮亏: 1225.99 USDT
===========================

| 阈值       | 净收益         | 胜率       | 亏损单 | 最大单笔浮亏   | 触发次数  | 风险评价   |
| -------- | ----------- | -------- | --- | -------- | ----- | ------ |
| 1.05     | 210,659     | 99.98%   | 5   | **6110** | 26755 | ❌ 高风险  |
| 1.06     | 168,770     | 99.99%   | 3   | **6110** | 21364 | ❌ 高风险  |
| **1.07** | **137,102** | 99.99%   | 2   | 1459     | 17246 | ⚠️ 可接受 |
| **1.08** | **112,273** | **100%** | 0   | **1226** | 14035 | ✅ 极优   |
| 1.09     | 92,289      | 100%     | 0   | 1226     | 11537 | ✅ 稳但少  |
| 1.10     | 76,633      | 100%     | 0   | 1226     | 9580  | ❌ 太保守  |

测试下怎么可能1.08达到100%收益


